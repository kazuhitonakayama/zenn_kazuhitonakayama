---
title: "Pull Requestã‚’Ready for reviewã«ã—ãŸã¨ãã«slackã«é€šçŸ¥ã™ã‚‹Github Actions"
emoji: "âš¡ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [github actions, Slack]
published: true
---

## æœ€çµ‚çš„ãªæˆæœç‰©
![](https://storage.googleapis.com/zenn-user-upload/43b614a366da-20230527.png)

### ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«
ä½¿ç”¨ã—ãŸworkflow: [action-slack-notify](https://github.com/rtCamp/action-slack-notify)

```yml
con:
  pull_request:
    types: [ready_for_review]
name: Slack Notification When PR become ready for review
jobs:
  slackNotification:
    name: Slack Notification
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2.2.0
    - name: Slack Notification
      uses: rtCamp/action-slack-notify@v2
      env:
        SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK_FOR_PR_READY_FOR_REVIEW }} # ã‚ã‚‰ã‹ã˜ã‚Githubã®Settingã«ã¦Secretsã‚’è¨­å®šã—ã¦ãŠã“ã†
        SLACK_LINK_NAMES: true # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã§ã®ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹
        SLACK_MESSAGE: |
          ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ğŸ™ @engineers
          <${{ github.event.pull_request.html_url }}|${{ github.event.pull_request.title }}>
        SLACK_USERNAME: 'ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŠé¡˜ã„ã—ã¾ã™ï¼Bot'
        MSG_MINIMAL: true # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã‘ã‚’é€šçŸ¥æ–‡ã«ã™ã‚‹
```

## ã‚„ã‚ŠãŸã‹ã£ãŸã“ã¨
Githubã§ã€Pull Requestã‚’Ready for Reviewã«ã—ãŸæ™‚ã«ã“ã‚Œã¾ã§ã¯Slackä¸Šã§ã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ãŠé¡˜ã„ã—ã¾ã™ï¼ã€ã¨è¨€ã£ã¦ã„ãŸãŒã€ãã®ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã—ãŸã‹ã£ãŸã€‚


## å®Ÿè£…ã™ã‚‹ä¸­ã§æ°—ã¥ã„ãŸã“ã¨

- ymlå†…ã§æ”¹è¡Œã‚’åæ˜ ã™ã‚‹ã«ã¯`|`ã‚’ç”¨ã„ã‚Œã°ã€æ”¹è¡Œã‚„ã‚¹ãƒšãƒ¼ã‚¹ãŒåæ˜ ã•ã‚Œã‚‹ã“ã¨ï¼ˆé€†ã«åæ˜ ã•ã‚Œãªã„ã®ã¯`>`ï¼‰
- Slackä¸Šã§hyperlinkã‚’ä½œã‚‹ã«ã¯ã€markdownè¨˜æ³•ã§ã¯ãªãä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨
  - `<link|text>`
- Pull Requestã®Githubã§ã®URLã‚’å–å¾—ã™ã‚‹ã«ã¯
  - `github.event.pull_request.html_url`(stringå‹)
- Pull Requestã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã™ã‚‹ã«ã¯
  - `github.event.pull_request.title`(stringå‹)

ref: [yamlã®è¨˜æ³•ã«ã¤ã„ã¦](https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html#yaml-basics)  
ref: [ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãŒç™ºç”Ÿã—ãŸã¨ãã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆ](https://docs.github.com/ja/webhooks-and-events/webhooks/webhook-events-and-payloads#pull_request)
